
<div *ngIf="!isvalidated">
    
    <app-login (isvalidated)="isvalidated=$event"></app-login>

</div>

<div *ngIf="isvalidated">
    <section class="section">
        <div class="container">
          <h1 class="title">Add a new Post</h1>
          <!--** New Post Form **-->
          <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
            <div class="field">
              <label class="label">Title</label>
              <div class="control has-icons-left has-icons-right">
                <input class="input" type="text" placeholder="Insert title" formControlName="title" [ngClass]="{ 'is-danger': submitted && f.title.errors }">
              </div>
              <p class="help is-danger" *ngIf="submitted && f.title.errors">Title is required</p>
            </div>
      
            <div class="field">
              <label class="label">Text</label>
              <div class="control has-icons-left has-icons-right">
                <textarea class="textarea" placeholder="e.g. Hello world" formControlName="text" [ngClass]="{ 'is-danger': submitted && f.text.errors }"></textarea>
              </div>
              <p class="help is-danger" *ngIf="submitted && f.text.errors">Text is required</p>
            </div>
      
            <!--Categories-->
            <div class="field">
              <label class="label">Category</label>
              <div class="control has-icons-left has-icons-right">
                <!--Display categories-->
                <div class="select is-multiple" [ngClass]="{ 'is-danger': submitted && f.categories.errors }">
                  <select multiple size="3" formControlName="categories">
                    <!--<option *ngFor="let category of categories" [value]="category.id">
                      {{ category.name }}
                    </option>-->
                    <option value="catA">Category A</option>
                    <option value="catB">Category B</option>
                    <option value="catC">Category C</option>
                  </select>
                </div>
              </div>
              <p class="help is-danger" *ngIf="submitted && f.categories.errors">Select at least one category</p>
            </div>
            <div class="container">
                <button type="submit" class="button is-info">Submit</button>
            </div>
          </form>
        </div>
      </section>
<!-- footer -->
    <app-footer></app-footer>
</div>